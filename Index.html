<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Nout Karro Fler â€” Jardin attentionnel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ----------------- AMBIANCE GÃ‰NÃ‰RALE ----------------- */
body {
    margin: 0;
    font-family: "Georgia", serif;
    background: url("assets/bg-paper.jpg") center/cover fixed;
    color: #2f3e34;
    overflow-x: hidden;
}

h1,h2,h3 {
    font-weight: normal;
}

/* ----------------- LOGIN ----------------- */
#login {
    position: fixed;
    inset: 0;
    background: rgba(245,245,240,0.96);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
}

#loginBox {
    background: rgba(255,255,255,0.85);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}

#loginBox input {
    padding: 14px;
    width: 100%;
    border-radius: 12px;
    border: 1px solid #aaa;
    font-size: 16px;
}

#loginBox button {
    margin-top: 20px;
    padding: 14px 30px;
    border: none;
    border-radius: 30px;
    background: #6fa58c;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

/* ----------------- PAGE PRINCIPALE ----------------- */
#main {
    display: none;
    padding: 40px;
}

#quote {
    text-align: center;
    font-style: italic;
    opacity: 0.8;
    margin-bottom: 30px;
}

/* ----------------- BOUTON AJOUT ----------------- */
#addBtn {
    display: block;
    margin: 30px auto;
    padding: 16px 36px;
    border-radius: 40px;
    border: none;
    background: #8bbf9f;
    color: white;
    font-size: 18px;
    cursor: pointer;
}

/* ----------------- JARDIN ----------------- */
#garden {
    position: relative;
    width: 100%;
    height: 600px;
    border-radius: 30px;
    background: rgba(255,255,255,0.35);
    overflow: hidden;
    box-shadow: inset 0 0 40px rgba(0,0,0,0.08);
}

.plant {
    position: absolute;
    width: 90px;
    animation: breathe 8s ease-in-out infinite;
    cursor: pointer;
}

.plant.latest {
    filter: drop-shadow(0 0 20px rgba(255,215,130,0.9));
}

@keyframes breathe {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.04); }
}

/* ----------------- EAU & SOLEIL ----------------- */
.water, .sun {
    position: absolute;
    pointer-events: none;
    animation: fade 2s ease-out forwards;
}

@keyframes fade {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-30px); }
}

/* ----------------- FORMULAIRE ----------------- */
#overlay {
    position: fixed;
    inset: 0;
    background: rgba(250,250,245,0.96);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 90;
}

form {
    background: white;
    padding: 40px;
    border-radius: 25px;
    width: 420px;
    box-shadow: 0 30px 60px rgba(0,0,0,0.2);
}

form select, form textarea, form input {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 12px;
    border: 1px solid #ccc;
}

form button {
    margin-top: 20px;
    padding: 14px;
    width: 100%;
    border-radius: 30px;
    border: none;
    background: #6fa58c;
    color: white;
    font-size: 16px;
}
</style>
</head>

<body>

<div id="login">
    <div id="loginBox">
        <h2>ðŸŒ± Nout Karro Fler</h2>
        <p>Entre dans le jardin</p>
        <input id="pwd" type="password" placeholder="mot de passe">
        <button onclick="checkPassword()">Entrer</button>
    </div>
</div>

<div id="main">
    <h1>Le jardin de lâ€™attention</h1>
    <div id="quote"></div>

    <button id="addBtn" onclick="openForm()">âž• Planter une expÃ©rience</button>

    <div id="garden"></div>
</div>

<div id="overlay">
<form id="form">
  <h3>ðŸŒ¿ Planter une expÃ©rience</h3>

  <select name="activite" required>
    <option value="">Contexte / activitÃ©</option>
    <option>Soin / accompagnement</option>
    <option>Ã‰change / relation</option>
    <option>CrÃ©ation / rÃ©flexion</option>
    <option>Transmission</option>
    <option>Autre</option>
  </select>

  <textarea name="experience"
   placeholder="DÃ©cris lâ€™expÃ©rience vÃ©cue, simplementâ€¦"
   required></textarea>

  <textarea name="ressenti"
   placeholder="Ce que cela a provoquÃ©, appris, transformÃ©â€¦"></textarea>

  <select name="force">
    <option value="">Force mobilisÃ©e (VIA)</option>
    <option>Bienveillance</option>
    <option>CuriositÃ©</option>
    <option>PersÃ©vÃ©rance</option>
    <option>Espoir</option>
    <option>Gratitude</option>
    <option>Humour</option>
    <option>Intelligence sociale</option>
  </select>

  <input name="forceLibre"
   placeholder="Autre force (si diffÃ©rente)">

  <select name="valeur">
    <option value="">Valeur en jeu (Schwartz)</option>
    <option>Bienveillance</option>
    <option>Universalisme</option>
    <option>Autonomie</option>
    <option>SÃ©curitÃ©</option>
    <option>Stimulation</option>
    <option>Accomplissement</option>
  </select>

  <input name="pourQui"
   placeholder="Pour qui cette expÃ©rience a comptÃ© ?">

  <button type="submit">ðŸŒ¸ Planter</button>
</form>
 
</div>  
<script>
const PASSWORD = "jardin";

const quotes = [
    "Ce Ã  quoi tu prÃªtes attention grandit.",
    "Chaque geste nourrit une racine invisible.",
    "Le vivant se cultive par la prÃ©sence.",
    "Un jardin est une mÃ©moire qui respire."
];

const plantImages = [
    "assets/plants/fleur1.png",
    "assets/plants/fleur2.png",
    "assets/plants/arbuste1.png",
    "assets/plants/arbre1.png",
    "assets/plants/fruit1.png"
];

let data = JSON.parse(localStorage.getItem("garden") || "[]");

function checkPassword() {
    if (pwd.value === PASSWORD) {
        login.style.display = "none";
        main.style.display = "block";
        quote.innerText = quotes[Math.floor(Math.random()*quotes.length)];
        renderGarden();
    }
}

function openForm() {
    overlay.style.display = "flex";
}

form.addEventListener("submit", e => {
    e.preventDefault();
    const f = new FormData(form);
    data.unshift({
    id: Date.now(),

    // ðŸŒ¿ CONTEXTE
    activite: f.get("activite"),

    // ðŸ“ EXPÃ‰RIENCE VÃ‰CUE
    experience: f.get("experience"),
    ressenti: f.get("ressenti"),

    // ðŸ’ª RESSOURCES MOBILISÃ‰ES
    force: f.get("force") || f.get("forceLibre"),
    valeur: f.get("valeur"),

    // ðŸ‘¥ DESTINATAIRE
    pourQui: f.get("pourQui"),

    // ðŸŒ± FORME VIVANTE
    img: plantImages[Math.floor(Math.random()*plantImages.length)],
    x: Math.random()*85,
    y: Math.random()*75,

    // ðŸ’§ INTERACTIONS
    eau: 0,
    soleil: 0,

    date: new Date().toLocaleDateString("fr-FR")
});
    localStorage.setItem("garden", JSON.stringify(data));
    overlay.style.display = "none";
    form.reset();
    renderGarden();
});

function renderGarden() {
    garden.innerHTML = "";
    data.forEach((p,i)=>{
        const img = document.createElement("img");
        img.src = p.img;
        img.className = "plant" + (i===0 ? " latest" : "");
        img.style.left = p.x+"%";
        img.style.top = p.y+"%";
        img.onclick = () => react(p);
        garden.appendChild(img);
    });
}

function react(p) {
    if (Math.random() > 0.5) drop("ðŸ’§");
    else drop("â˜€ï¸");

    function drop(symbol){
        const s = document.createElement("div");
        s.className = symbol==="ðŸ’§"?"water":"sun";
        s.innerText = symbol;
        s.style.left = Math.random()*80+"%";
        s.style.top = "80%";
        garden.appendChild(s);
        setTimeout(()=>s.remove(),2000);
    }
}
</script>

</body>
</html>
