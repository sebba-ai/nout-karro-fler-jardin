<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nout Karro fler ! üå± Jardin Attentionnel</title>
    <style>
        <style>
    body { 
        font-family: 'Georgia', serif; 
        background: #000 !important; 
        color: #F0F8FF; margin: 0; padding: 20px; min-height: 100vh; 
    }
    /* ... reste du CSS noir que je t'ai donn√© ... */
</style>
<style>
    body { 
        font-family: 'Georgia', serif; 
        background: #000 !important; 
        color: #F0F8FF; margin: 0; padding: 20px; min-height: 100vh; }
        #login { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 1000; }
        #login div { background: white; padding: 40px; border-radius: 20px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        #login input { font-size: 20px; padding: 15px; width: 250px; margin: 10px; border: 2px solid #90EE90; border-radius: 10px; }
        #login button { font-size: 20px; padding: 15px 30px; background: #4CAF50; color: white; border: none; border-radius: 10px; cursor: pointer; transition: background 0.3s; }
        #login button:hover { background: #45a049; }
        #main { max-width: 1200px; margin: 0 auto; display: none; }
        #blackboard { background: #2F4F4F; color: #F0F8FF; padding: 30px; border-radius: 15px; text-align: center; margin: 20px 0; box-shadow: inset 0 0 20px rgba(0,0,0,0.3); }
        #addBtn { font-size: 24px; padding: 20px 40px; background: linear-gradient(45deg, #FFEB3B, #FFD700); border: none; border-radius: 50px; cursor: pointer; display: block; margin: 30px auto; font-weight: bold; transition: transform 0.3s; }
        #addBtn:hover { transform: scale(1.05); }
        #formOverlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; z-index: 999; }
        #formOverlay form { background: white; padding: 40px; border-radius: 20px; width: min(90%, 500px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
        #formOverlay input, select, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #90EE90; border-radius: 10px; box-sizing: border-box; font-family: inherit; }
        #formOverlay button { width: 100%; font-size: 18px; padding: 15px; background: #4CAF50; color: white; border: none; border-radius: 10px; cursor: pointer; }
        h2 { text-align: center; color: #2F4F2F; }
        #garden { width: 100%; height: 500px; border: 5px solid #8B4513; border-radius: 20px; background: linear-gradient(to bottom, #87CEEB 0%, #90EE90 50%, #228B22 100%); overflow: hidden; }
        .plant { cursor: pointer; transition: all 0.4s ease; }
        .plant:hover { filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3)); transform: scale(1.2) rotate(5deg); }
        @media (max-width: 768px) { #garden { height: 400px; } }
    </style>
</head>
<body>
    <div id="login">
        <div>
            <h2>üå± Nout Karro fler !</h2>
            <p>Entre dans le Jardin Attentionnel</p>
            <input type="password" id="pwd" placeholder="Ton mot de passe secret...">
            <br><button onclick="checkPassword()">Entrer au jardin</button>
        </div>
    </div>
    
    <div id="main">
        <div id="blackboard">
            <h1>üìú Citation du jour</h1>
            <p id="quote">Le jardin pousse quand on lui pr√™te attention.</p>
            <small>Actualis√© chaque visite</small>
        </div>
        
        <button id="addBtn" onclick="showForm()">‚ûï Plante une nouvelle contribution !</button>
        
        <div id="formOverlay">
            <form id="contribForm">
                <h3>üåø Que veux-tu planter aujourd'hui ?</h3>
                <select name="activite" required>
                    <option value="">Choisis une activit√©...</option>
                    <option>R√©union √©quipe</option>
                    <option>T√¢che solo</option>
                    <option>Appel client</option>
                    <option>Autre</option>
                </select>
                <textarea name="situation" placeholder="Situation v√©cue (ex: r√©union tendue)..." rows="3" required></textarea>
                <input name="forces" placeholder="Force utilis√©e (ex: empathie, √©coute)..." list="forcesList" required>
                <input name="pourQui" placeholder="Pour qui ? (√©quipe, client, soi...)" required>
                <datalist id="forcesList">
                    <option>Empathie</option>
                    <option>√âcoute active</option>
                    <option>Cr√©ativit√©</option>
                    <option>R√©silience</option>
                    <option>Humour</option>
                    <option>Leadership</option>
                </datalist>
                <button type="submit">üå± Planter cette force !</button>
            </form>
        </div>
        
        <h2>üå≥ Le Jardin des Forces</h2>
        <svg id="garden" viewBox="0 0 1200 600"></svg>
        <p style="text-align:center; color:#666; font-style:italic;">Clique sur une plante pour voir les d√©tails ‚ú®</p>
    </div>

    <script>
        const PASSWORD = atob('bm91dHphcmRpbjIwMjY=');
        let gardenData = JSON.parse(localStorage.getItem('noutKarroGarden') || '[]');
        
        function checkPassword() {
            const pwd = document.getElementById('pwd').value;
            if (pwd === PASSWORD) {
                document.getElementById('login').style.display = 'none';
                document.getElementById('main').style.display = 'block';
                loadQuote();
                generateGarden();
            } else {
                alert('‚ùå Mot de passe incorrect. Essaie encore !');
                document.getElementById('pwd').value = '';
                document.getElementById('pwd').focus();
            }
        }
        
        function loadQuote() {
            const quotes = [
                '"Nout karro fler pou bann zoli zoli !" - Jardinier cr√©ole',
                '"Le bonheur se cultive comme un jardin." - Aristote',
                '"Ce qu‚Äôon arrose pousse." - Psychologie positive',
                '"Chaque plante est une victoire d‚Äôattention." - Toi-m√™me'
            ];
            document.getElementById('quote').textContent = quotes[Math.floor(Math.random() * quotes.length)];
        }
        
        function showForm() {
            document.getElementById('formOverlay').style.display = 'flex';
            document.querySelector('#contribForm textarea').focus();
        }
        
        document.getElementById('contribForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const plant = {
                id: Date.now(),
                activite: formData.get('activite'),
                situation: formData.get('situation'),
                forces: formData.get('forces'),
                pourQui: formData.get('pourQui'),
                reactions: { eau: 0, soleil: 0 }, // √Ä d√©velopper plus tard
                date: new Date().toLocaleDateString('fr-FR')
            };
            gardenData.unshift(plant); // Ajoute en haut pour r√©cence
            localStorage.setItem('noutKarroGarden', JSON.stringify(gardenData));
            e.target.reset();
            document.getElementById('formOverlay').style.display = 'none';
            generateGarden();
            alert('üåø Plant√© avec succ√®s ! Regarde ton jardin pousser.');
        });
        
        let plantPositions = {}; // ‚Üê M√âMOIRE DES POSITIONS

let plantElements = {}; // Cache des √©l√©ments existants

function generateGarden() {
    const svg = document.getElementById('garden');
    
    // AJOUTE UNIQUEMENT les NOUVELLES plantes
    gardenData.slice(0, 20).forEach((plant, index) => {
        if (!plantElements[plant.id]) {
            const x = 100 + (index % 10) * 110;
            const y = 450 + Math.floor(index / 10) * 75;
            
            let emoji = 'üå±';
            if (plant.activite === 'R√©union √©quipe') emoji = 'üåø';
            else if (plant.activite === 'Appel client') emoji = 'üå∏';
            else if (plant.activite === 'T√¢che solo') emoji = 'üçÉ';
            
            const plantG = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            plantG.setAttribute('class', 'plant');
            plantG.setAttribute('data-plant-id', plant.id);
            plantG.setAttribute('transform', `translate(${x},${y})`);
            plantG.onclick = () => showPlant(plant.id);
            
            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            circle.setAttribute('cx', '0');
            circle.setAttribute('cy', '0');
            circle.setAttribute('r', '30');
            circle.setAttribute('fill', '#4CAF50');
            circle.setAttribute('stroke', '#2E7D32');
            circle.setAttribute('stroke-width', '3');
            
            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', '0');
            text.setAttribute('y', '8');
            text.setAttribute('font-size', '32');
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('fill', 'white');
            text.setAttribute('font-weight', 'bold');
            text.textContent = emoji;
            
            const star = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            star.setAttribute('cx', '0');
            star.setAttribute('cy', '-28');
            star.setAttribute('r', '8');
            star.setAttribute('fill', '#FFD700');
            star.setAttribute('opacity', '0.8');
            
            plantG.appendChild(circle);
            plantG.appendChild(text);
            plantG.appendChild(star);
            svg.appendChild(plantG);
            
            plantElements[plant.id] = plantG;
        }
    });
    
    // Nettoie les anciennes plantes
    Object.keys(plantElements).forEach(id => {
        if (!gardenData.slice(0, 20).find(p => p.id == id)) {
            const element = plantElements[id];
            if (element && element.parentNode) element.parentNode.removeChild(element);
            delete plantElements[id];
        }
    });
    
    if (gardenData.length === 0) {
        svg.innerHTML = '<text x="600" y="300" font-size="28" text-anchor="middle" fill="#4CAF50" opacity="0.6">Plante ta premi√®re force ! üå±</text>';
        plantElements = {};
    }
} 
        function showPlant(id) {
            const plant = gardenData.find(p => p.id === id);
            if (plant) {
                const details = `üåø ${plant.activite}\nüìù ${plant.situation}\nüí™ Force: ${plant.forces}\nüë• Pour: ${plant.pourQui}\nüìÖ ${plant.date}`;
                alert(details);
            }
        }
        
        // Enter pour login
        document.getElementById('pwd').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkPassword();
        });
    </script>
</body>
</html>
